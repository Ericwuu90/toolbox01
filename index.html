<!doctype html>
<html lang="zh-Hant" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Eric çš„ AI å·¥å…·ç®± | ä½ çš„æ•¸ä½ç”Ÿç”¢åŠ›è»ç«åº«</title>
  <meta name="description" content="ç²¾é¸ AI å·¥å…·èˆ‡ ChatGPT å·¥ä½œæµï¼Œæå‡å·¥ä½œæ•ˆç‡çš„æ•¸ä½ç™¾å¯¶ç®±ã€‚" />
  <meta property="og:title" content="Eric çš„ AI å·¥å…·ç®±" />
  <meta property="og:description" content="ç²¾é¸ AI å·¥å…·èˆ‡ ChatGPT å·¥ä½œæµï¼Œæå‡å·¥ä½œæ•ˆç‡çš„æ•¸ä½ç™¾å¯¶ç®±ã€‚" />
  
  <!-- å­—é«”ï¼šInter (è‹±) + Noto Sans TC (ä¸­) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind è‡ªå®šç¾©é…ç½®
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'Noto Sans TC', 'sans-serif'],
          },
          colors: {
            primary: {
              50: '#f0f9ff', 100: '#e0f2fe', 200: '#bae6fd', 300: '#7dd3fc',
              400: '#38bdf8', 500: '#0ea5e9', 600: '#0284c7', 700: '#0369a1',
              800: '#075985', 900: '#0c4a6e', 950: '#082f49',
            }
          },
          animation: {
            'fade-in-up': 'fadeInUp 0.5s ease-out forwards',
            'bounce-sm': 'bounceSmall 0.2s ease-in-out',
          },
          keyframes: {
            fadeInUp: {
              '0%': { opacity: '0', transform: 'translateY(10px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' },
            },
            bounceSmall: {
              '0%, 100%': { transform: 'scale(1)' },
              '50%': { transform: 'scale(0.95)' },
            }
          }
        }
      }
    }
  </script>

  <style>
    /* åŸºç¤è¨­å®š */
    :root { color-scheme: light dark; }
    body { font-family: 'Inter', 'Noto Sans TC', sans-serif; -webkit-font-smoothing: antialiased; }

    /* éš±è—æ²è»¸ä½†ä¿ç•™åŠŸèƒ½ (ç”¨æ–¼åˆ†é¡æ¨™ç±¤) */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

    /* èƒŒæ™¯ç‰¹æ•ˆ */
    .glass-effect {
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
    
    .bg-grid-pattern {
      background-image: 
        linear-gradient(to right, rgba(14, 165, 233, 0.05) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(14, 165, 233, 0.05) 1px, transparent 1px);
      background-size: 24px 24px;
      mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
      -webkit-mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
    }

    /* å¡ç‰‡æ‡¸æµ®å…‰æšˆ */
    .card-glow:hover {
      box-shadow: 0 0 20px -5px rgba(14, 165, 233, 0.3);
    }
    
    /* è¼‰å…¥å‹•ç•«å»¶é² */
    .delay-100 { animation-delay: 100ms; }
    .delay-200 { animation-delay: 200ms; }
    .delay-300 { animation-delay: 300ms; }
  </style>

  <script>
    // åˆå§‹åŒ–æ·±è‰²æ¨¡å¼ (é˜²æ­¢é–ƒçˆ)
    if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }
  </script>
</head>
<body class="min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100 transition-colors duration-300">

  <!-- èƒŒæ™¯è£é£¾ -->
  <div class="fixed inset-0 z-0 pointer-events-none overflow-hidden">
    <!-- ç¶²æ ¼ -->
    <div class="absolute inset-0 bg-grid-pattern opacity-80"></div>
    <!-- å…‰æšˆçƒ -->
    <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary-400/20 rounded-full blur-3xl mix-blend-multiply dark:mix-blend-screen dark:opacity-10 animate-pulse"></div>
    <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-purple-400/20 rounded-full blur-3xl mix-blend-multiply dark:mix-blend-screen dark:opacity-10 animate-pulse" style="animation-delay: 2s;"></div>
  </div>

  <!-- é ‚éƒ¨å°èˆª -->
  <header class="sticky top-0 z-40 w-full border-b border-slate-200/80 dark:border-slate-800/80 bg-white/80 dark:bg-slate-950/80 glass-effect">
    <div class="mx-auto max-w-6xl px-4 h-16 flex items-center justify-between">
      <div class="flex items-center gap-3 group cursor-pointer" onclick="window.scrollTo(0,0)">
        <div class="w-8 h-8 rounded-xl bg-gradient-to-tr from-primary-500 to-cyan-400 flex items-center justify-center text-white shadow-lg shadow-primary-500/20 group-hover:scale-105 transition-transform">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5"></path><path d="M8.5 8.5v.01"></path><path d="M16 12v.01"></path><path d="M12 16v.01"></path></svg>
        </div>
        <h1 class="text-lg font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-slate-800 to-slate-600 dark:from-slate-100 dark:to-slate-400">Eric çš„ AI å·¥å…·ç®±</h1>
      </div>
      
      <div class="flex items-center gap-2">
        <!-- æ·±è‰²æ¨¡å¼åˆ‡æ› -->
        <button id="themeToggle" class="p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors" aria-label="åˆ‡æ›æ·±è‰²æ¨¡å¼">
          <svg id="sunIcon" class="w-5 h-5 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
          <svg id="moonIcon" class="w-5 h-5 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
        </button>
        <a href="#about" class="text-sm font-medium text-slate-600 hover:text-primary-600 dark:text-slate-400 dark:hover:text-primary-400 transition-colors hidden sm:block">é—œæ–¼æœ¬ç«™</a>
      </div>
    </div>
  </header>

  <main class="relative z-10 mx-auto max-w-6xl px-4 pb-24">
    
    <!-- æœå°‹å€å¡Š -->
    <section class="py-8 sm:py-12 flex flex-col items-center text-center animate-fade-in-up">
      <h2 class="text-3xl sm:text-4xl font-bold mb-4 text-slate-800 dark:text-white">æ¢ç´¢ä½ çš„ <span class="text-primary-500">AI ç”Ÿç”¢åŠ›</span> å¤¥ä¼´</h2>
      <p class="text-slate-500 dark:text-slate-400 mb-8 max-w-xl text-lg">æ”¶éŒ„é«˜å“è³ªçš„ ChatGPT å·¥ä½œæµèˆ‡å¯¦ç”¨ AI å°å·¥å…·ï¼Œè®“ç¹ç‘£ä»»å‹™è®Šç°¡å–®ã€‚</p>

      <div class="w-full max-w-2xl relative group">
        <div class="absolute -inset-1 bg-gradient-to-r from-primary-400 to-cyan-400 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
        <div class="relative flex items-center bg-white dark:bg-slate-900 rounded-xl shadow-xl ring-1 ring-slate-900/5 dark:ring-white/10">
          <span class="pl-4 text-slate-400">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
          </span>
          <input id="q" type="text" placeholder="æœå°‹å·¥å…·åç¨±ã€åŠŸèƒ½é—œéµå­— (ä¾‹å¦‚: ç¿»è­¯, æ‘˜è¦)..." class="w-full h-14 pl-3 pr-4 bg-transparent border-none outline-none text-slate-700 dark:text-slate-200 placeholder-slate-400 rounded-xl focus:ring-0 text-lg" />
        </div>
      </div>
    </section>

    <!-- åˆ†é¡æ¨™ç±¤ (æ”¯æ´æ©«å‘æ²å‹•) -->
    <section class="mb-8 animate-fade-in-up delay-100">
      <div id="cats" class="flex items-center sm:justify-center gap-2 overflow-x-auto no-scrollbar pb-2 sm:flex-wrap px-1 -mx-1 mask-linear-fade">
        <!-- JS å‹•æ…‹ç”Ÿæˆ -->
      </div>
    </section>

    <!-- å·¥å…·åˆ—è¡¨ -->
    <section id="list" class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 auto-rows-fr animate-fade-in-up delay-200 min-h-[300px]">
      <!-- JS å‹•æ…‹ç”Ÿæˆ -->
    </section>

    <!-- ç©ºç‹€æ…‹ -->
    <section id="empty" class="hidden flex-col items-center justify-center text-center py-20 animate-fade-in-up">
      <div class="w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-4 text-4xl">ğŸ›¸</div>
      <h3 class="text-xl font-semibold text-slate-800 dark:text-slate-200 mb-2">æ‰¾ä¸åˆ°ç›¸é—œå·¥å…·</h3>
      <p class="text-slate-500 dark:text-slate-400 mb-6">æ›å€‹é—œéµå­—è©¦è©¦ï¼Œæˆ–æ˜¯æŸ¥çœ‹å…¶ä»–åˆ†é¡ã€‚</p>
      <button onclick="resetSearch()" class="px-6 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-slate-700 dark:text-slate-300 hover:border-primary-500 dark:hover:border-primary-500 transition-colors shadow-sm">
        æ¸…é™¤æœå°‹æ¢ä»¶
      </button>
    </section>

    <!-- é—œæ–¼ -->
    <section id="about" class="mt-20 border-t border-slate-200 dark:border-slate-800 pt-10">
      <div class="rounded-2xl bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800/50 p-8 border border-slate-200 dark:border-slate-800 shadow-sm relative overflow-hidden">
        <div class="absolute top-0 right-0 w-64 h-64 bg-primary-500/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
        <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
          é—œæ–¼æœ¬ç«™ 
          <span class="text-xs font-normal px-2 py-1 bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300 rounded-full">Beta 1.0</span>
        </h2>
        <div class="text-slate-600 dark:text-slate-300 space-y-4 leading-relaxed max-w-3xl">
          <p>
            å—¨ï¼æˆ‘æ˜¯ Ericã€‚é€™æ˜¯ä¸€å€‹å°‡å¤šå€‹ ChatGPT å·¥ä½œæµç¨‹èˆ‡å°å·¥å…·é›†ä¸­ç®¡ç†çš„ã€Œæ•¸ä½è»ç«åº«ã€ã€‚
            ä½ å¯ä»¥ä¾åˆ†é¡ç¯©é¸ã€æœå°‹é—œéµå­—ã€æ”¶è—å¸¸ç”¨å·¥å…·ï¼Œä¸¦ä»¥ QR Code åˆ†äº«çµ¦åŒäº‹ï¼Œæˆ–æ˜¯ç›´æ¥åœ¨æ‰‹æ©Ÿä¸Šé–‹å•Ÿä½¿ç”¨ã€‚
          </p>
          <p>å¦‚æœä½ æœ‰ç™¼ç¾ä»»ä½• Bug æˆ–æ˜¯æƒ³è¦æ¨è–¦çš„ Promptï¼Œæ­¡è¿éš¨æ™‚èˆ‡æˆ‘åˆ†äº«ï¼</p>
        </div>
      </div>
      <footer class="mt-8 text-center text-sm text-slate-400 dark:text-slate-600">
        &copy; 2024 Eric's AI Toolhub. Built with Tailwind CSS & â¤ï¸.
      </footer>
    </section>
  </main>

  <!-- QR å½ˆçª— -->
  <dialog id="qrDialog" class="backdrop:bg-slate-900/60 backdrop:backdrop-blur-sm rounded-2xl p-0 shadow-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 transform transition-all open:animate-fade-in-up">
    <div class="p-6 min-w-[300px] flex flex-col items-center">
      <div class="w-full flex justify-between items-center mb-4">
        <h3 class="font-bold text-lg text-slate-800 dark:text-slate-100">æƒç¢¼å¿«é€Ÿé–‹å•Ÿ</h3>
        <button onclick="document.getElementById('qrDialog').close()" class="text-slate-400 hover:text-slate-600 dark:hover:text-slate-200">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
        </button>
      </div>
      
      <div id="qrBox" class="bg-white p-3 rounded-xl border border-slate-200 shadow-inner mb-4"></div>
      
      <div class="w-full bg-slate-50 dark:bg-slate-800 rounded-lg p-3 mb-4 flex items-center gap-2">
        <div id="qrUrl" class="text-xs text-slate-500 break-all flex-1 font-mono line-clamp-2"></div>
      </div>
    </div>
  </dialog>

  <!-- Toast é€šçŸ¥ (Copied) -->
  <div id="toast" class="fixed bottom-6 left-1/2 -translate-x-1/2 z-50 bg-slate-900 text-white dark:bg-white dark:text-slate-900 px-4 py-2 rounded-full shadow-lg text-sm font-medium opacity-0 pointer-events-none transition-opacity duration-300 flex items-center gap-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-green-400 dark:text-green-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6L9 17l-5-5"/></svg>
    å·²è¤‡è£½é€£çµ
  </div>

  <script>
  // ====== è³‡æ–™åº« ======
  const TOOLS = [
    { title: "ç§‘æŠ€é€Ÿæ‡‚å°åŠ©æ‰‹", desc: "æŠŠè‰±æ·±çš„ç§‘æŠ€çŸ¥è­˜ï¼Œè½‰è­¯æˆäººäººéƒ½èƒ½æ‡‚çš„ç”Ÿæ´»ç™½è©±ï¼Œé©åˆè§£é‡‹ AIã€å€å¡Šéˆç­‰æ¦‚å¿µã€‚", url: "https://chatgpt.com/g/g-6853cd7fa5c881919ce3c08769d8cfee-ke-ji-su-dong-jie-ma-shi", category: "æ–‡å­—/ç¿»è­¯", tags: ["ç§‘æ™®","ç™½è©±è§£é‡‹","æŠ€è¡“è½‰è­¯"], badge: "New" },
    { title: "ç¸®å¯«è§£ç¢¼å®˜", desc: "å¿«é€Ÿè§£ç¢¼ç§‘æŠ€ç¸®å¯«èˆ‡å°ˆæœ‰åè©ï¼Œè®“ä½ åœ¨é–±è®€ä»»ä½•æŠ€è¡“è³‡æ–™æ™‚ä¸å†å¡é—œã€‚", url: "https://chatgpt.com/g/g-68a093bd515881918341ad357509cbb5-suo-xie-jie-ma-guan", category: "æ–‡å­—/ç¿»è­¯", tags: ["ç¸®å¯«","åè©è§£é‡‹","å­—å…¸"] },
    { title: "åœ–åƒè§£èªªå“¡", desc: "è‡ªå‹•åˆ†æä¸¦è§£é‡‹åœ–ç‰‡å…§å®¹ï¼Œé©åˆéœ€è¦å¿«é€Ÿç†è§£åœ–è¡¨ã€UI æˆ–å ´æ™¯è³‡è¨Šã€‚", url: "https://chatgpt.com/g/g-6742a54e580c8191b28585cee72733b8-tu-xiang-jie-shuo-yuan", category: "åœ–åƒ/è¨­è¨ˆ", tags: ["åœ–ç‰‡è§£æ","è¦–è¦ºè¾¨è­˜"] },
    { title: "ç¶²é æ‘˜è¦å°ˆå®¶", desc: "å¿«é€Ÿæå–ç¶²ç«™é‡é»ï¼Œä¸¦ä»¥ç°¡æ˜æ¢åˆ—æ–¹å¼æ•´ç†ï¼Œçœå»é–±è®€é•·æ–‡çš„æ™‚é–“ã€‚", url: "https://chatgpt.com/g/g-6736b5201d4c819098978acf0266158f-wang-ye-zhai-yao-zhuan-jia", category: "è³‡æ–™/ç ”ç©¶", tags: ["æ‘˜è¦","é‡é»æ•´ç†","é–±è®€è¼”åŠ©"], badge: "Hot" },
    { title: "åœ–ç‰‡è½‰æ–‡å­— (OCR)", desc: "é«˜ç²¾æº–åº¦è¾¨è­˜åœ–ç‰‡ã€æˆªåœ–ä¸­çš„æ–‡å­—ï¼Œæ–¹ä¾¿è¤‡è£½ç·¨è¼¯èˆ‡å†åˆ©ç”¨ã€‚", url: "https://chatgpt.com/g/g-6736b67e408881909585defc9da44666-tu-pian-zhuan-wen-zi-zhu-shou-ocr", category: "ç”Ÿç”¢åŠ›", tags: ["OCR","è½‰æ–‡å­—","æˆªåœ–"] },
    { title: "ç›¸ä¼¼åœ–å¤§å¸«", desc: "è¼¸å…¥æ–‡å­—æˆ–ä¸Šå‚³åœ–ç‰‡ï¼Œå³å¯å¿«é€Ÿç”Ÿæˆé¢¨æ ¼é«˜åº¦ç›¸ä¼¼çš„ç…§ç‰‡æˆ–æ’åœ–ã€‚", url: "https://chatgpt.com/g/g-67e7ff682fec8191b352f7e86bafc48d-xiang-si-tu-da-shi", category: "åœ–åƒ/è¨­è¨ˆ", tags: ["ç”Ÿæˆ","ç›¸ä¼¼é¢¨æ ¼","è¨­è¨ˆè¼”åŠ©"] },
    { title: "éŒ¯å­—æ ¡æ­£åŠ©æ‰‹", desc: "å”åŠ©æª¢æŸ¥é€å­—ç¨¿ä¸­çš„éŒ¯å­—æˆ–èªç—…ï¼Œä¿æŒåŸæ–‡èªæ°£ï¼Œåƒ…æ¨™ç¤ºéŒ¯èª¤ã€‚", url: "https://chatgpt.com/g/g-6741e9f4c8688191a57da183196219c3-zhu-zi-gao-cuo-zi-xiao-zheng-zhu-shou", category: "æ–‡å­—/ç¿»è­¯", tags: ["æ ¡å°","é€å­—ç¨¿","é™¤éŒ¯"] },
    { title: "å…¬å¸ç ”ç©¶åŠ©æ‰‹", desc: "å¤šè¦–è§’åˆ†æä¼æ¥­ï¼šä¸€èˆ¬ä»‹ç´¹ã€å¸‚å ´ä½ˆå±€ã€æŠ€è¡“å„ªå‹¢ï¼Œå¿«é€ŸæŒæ¡å…¬å¸å…¨è²Œã€‚", url: "https://chatgpt.com/g/g-68a09dd4b9a08191a5b6f02c085f87ba-gong-si-yan-jiu-zhu-shou", category: "è³‡æ–™/ç ”ç©¶", tags: ["å•†æ¥­åˆ†æ","å¸‚å ´èª¿æŸ¥","æŠ€è¡“"], badge: "Pro" },
  ];

  const $ = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));

  // --- ç‹€æ…‹ç®¡ç† ---
  function safeGetPins(){
    try { return JSON.parse(localStorage.getItem('toolhub_pins')||'[]'); }
    catch { return []; }
  }
  const state = { q: '', cat: 'å…¨éƒ¨', pinned: safeGetPins() };
  const cats = ['å…¨éƒ¨', ...Array.from(new Set(TOOLS.map(t=>t.category)))];

  // --- åœ–æ¨™ç³»çµ± (Lucide é¢¨æ ¼ SVG) ---
  function iconFor(t){
    const size = 'w-6 h-6';
    // æ ¹æ“šæ¨™é¡Œæˆ–é¡åˆ¥è¿”å›åœ–ç¤º
    const map = {
      'ç¶²é æ‘˜è¦å°ˆå®¶': `<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><path d="M14 2v6h6"/><path d="M16 13H8"/><path d="M16 17H8"/><path d="M10 9H8"/>`,
      'ç§‘æŠ€é€Ÿæ‡‚å°åŠ©æ‰‹': `<path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7z"/><path d="M9 21h6"/>`,
      'å…¬å¸ç ”ç©¶åŠ©æ‰‹': `<path d="M3 21h18"/><path d="M5 21V7l8-4 8 4v14"/><path d="M17 21v-8.5a1.5 1.5 0 0 0-1.5-1.5h-5a1.5 1.5 0 0 0-1.5 1.5V21"/>`,
      'ç›¸ä¼¼åœ–å¤§å¸«': `<rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>`,
      'éŒ¯å­—æ ¡æ­£åŠ©æ‰‹': `<path d="m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2"/><path d="M8 13h6"/><path d="M8 17h6"/><path d="M14 5v6h6"/>`,
      'åœ–ç‰‡è½‰æ–‡å­— (OCR)': `<path d="M4 7V4a2 2 0 0 1 2-2h3"/><path d="M15 2h3a2 2 0 0 1 2 2v3"/><path d="M4 17v3a2 2 0 0 0 2 2h3"/><path d="M15 22h3a2 2 0 0 0 2-2v-3"/><path d="M7 7h10v10H7z"/>`,
      'åœ–åƒè§£èªªå“¡': `<circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/>`,
      'ç¸®å¯«è§£ç¢¼å®˜': `<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>`
    };
    
    // é è¨­åœ–ç¤º
    const def = `<rect width="7" height="7" x="3" y="3" rx="1"/><rect width="7" height="7" x="14" y="3" rx="1"/><rect width="7" height="7" x="14" y="14" rx="1"/><rect width="7" height="7" x="3" y="14" rx="1"/>`;
    
    const path = map[t.title] || def;
    return `<svg xmlns="http://www.w3.org/2000/svg" class="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">${path}</svg>`;
  }

  // --- æ¸²æŸ“åˆ†é¡ ---
  function renderCats(){
    const el = $('#cats');
    el.innerHTML = cats.map(c => {
      const active = state.cat === c;
      const baseClass = "whitespace-nowrap px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 border cursor-pointer select-none";
      const activeClass = "bg-slate-900 text-white border-slate-900 dark:bg-white dark:text-slate-900 dark:border-white shadow-md transform scale-105";
      const inactiveClass = "bg-white text-slate-600 border-slate-200 hover:bg-slate-50 hover:border-slate-300 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700 dark:hover:bg-slate-700";
      
      return `<button type="button" data-cat="${c}" class="${baseClass} ${active ? activeClass : inactiveClass}">${c}</button>`;
    }).join('');
    
    $$('#cats button').forEach(b => b.addEventListener('click', () => {
      state.cat = b.dataset.cat;
      render();
    }));
  }

  // --- æ¸²æŸ“åˆ—è¡¨ ---
  function renderList(){
    const list = $('#list');
    const nq = (state.q || '').toLowerCase();
    
    let filtered = TOOLS.filter(t => {
      const matchCat = state.cat === 'å…¨éƒ¨' || t.category === state.cat;
      const text = [t.title, t.desc, ...t.tags].join(' ').toLowerCase();
      const matchQ = !nq || text.includes(nq);
      return matchCat && matchQ;
    });

    // æ’åºï¼šç½®é ‚ -> å¾½ç«  (Hot>New>Pro) -> æ¨™é¡Œ
    filtered.sort((a,b) => {
      const ap = state.pinned.includes(a.url) ? 1 : 0;
      const bp = state.pinned.includes(b.url) ? 1 : 0;
      if (ap !== bp) return bp - ap;
      
      const badgeOrder = {Hot:4, New:3, Pro:2};
      const ba = badgeOrder[a.badge] || 0;
      const bb = badgeOrder[b.badge] || 0;
      if (ba !== bb) return bb - ba;
      
      return a.title.localeCompare(b.title, 'zh-Hant');
    });

    // ç©ºç‹€æ…‹åˆ‡æ›
    const emptyEl = $('#empty');
    if (filtered.length === 0) {
      list.classList.add('hidden');
      emptyEl.classList.remove('hidden');
      emptyEl.classList.add('flex');
    } else {
      list.classList.remove('hidden');
      emptyEl.classList.add('hidden');
      emptyEl.classList.remove('flex');
    }

    list.innerHTML = filtered.map(t => {
      const isPinned = state.pinned.includes(t.url);
      
      // å¾½ç« æ¨£å¼
      let badgeHtml = '';
      if(t.badge) {
        const badgeColors = {
          'New': 'bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800',
          'Hot': 'bg-rose-100 text-rose-700 border-rose-200 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800',
          'Pro': 'bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800'
        };
        const color = badgeColors[t.badge] || 'bg-slate-100 text-slate-600';
        badgeHtml = `<span class="absolute top-4 right-12 text-[10px] font-bold px-2 py-0.5 rounded-full border ${color}">${t.badge}</span>`;
      }

      return `
      <div class="group relative flex flex-col h-full bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 p-5 transition-all duration-300 hover:-translate-y-1 card-glow">
        ${badgeHtml}
        
        <!-- ç½®é ‚æŒ‰éˆ• -->
        <button class="absolute top-4 right-4 p-1.5 rounded-lg text-slate-400 hover:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors ${isPinned ? 'text-amber-400' : ''}" 
                data-pin="${t.url}" title="${isPinned?'å–æ¶ˆæ”¶è—':'æ”¶è—å·¥å…·'}">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ${isPinned?'fill-current':''}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
        </button>

        <!-- æ¨™é¡Œèˆ‡åœ–æ¨™ -->
        <div class="flex items-start gap-4 mb-3">
          <div class="shrink-0 w-12 h-12 rounded-xl bg-primary-50 dark:bg-slate-800 flex items-center justify-center text-primary-600 dark:text-primary-400 group-hover:scale-110 transition-transform duration-300">
            ${iconFor(t)}
          </div>
          <div class="pt-1 pr-8">
            <h3 class="font-bold text-lg text-slate-900 dark:text-slate-100 leading-tight">${t.title}</h3>
            <p class="text-xs text-slate-400 mt-1">${t.category}</p>
          </div>
        </div>

        <!-- æè¿° -->
        <p class="text-sm text-slate-600 dark:text-slate-400 mb-4 line-clamp-3 flex-grow">${t.desc}</p>

        <!-- æ¨™ç±¤ -->
        <div class="flex flex-wrap gap-1.5 mb-5">
          ${t.tags.slice(0,3).map(tag => `<span class="px-2 py-1 text-[11px] rounded-md bg-slate-100 dark:bg-slate-800 text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-700">${tag}</span>`).join('')}
        </div>

        <!-- æŒ‰éˆ•å€ -->
        <div class="mt-auto flex items-center gap-2 pt-4 border-t border-slate-100 dark:border-slate-800">
          <a href="${t.url}" target="_blank" rel="noopener" class="flex-1 h-10 flex items-center justify-center gap-2 bg-slate-900 hover:bg-slate-800 dark:bg-white dark:hover:bg-slate-200 text-white dark:text-slate-900 rounded-xl font-medium text-sm transition-all active:scale-95">
            <span>å‰å¾€ä½¿ç”¨</span>
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" /></svg>
          </a>
          
          <button data-copy="${t.url}" class="h-10 w-10 flex items-center justify-center rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors" title="è¤‡è£½é€£çµ">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" /></svg>
          </button>
          
          <button data-qr="${t.url}" class="h-10 w-10 flex items-center justify-center rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors" title="QR Code">
             <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4h2v-4zm-6 12v-2m0 0v-2m0 2H9m12 0v2m-2-2h2m-2-4h2m7-2v6a2 2 0 01-2 2H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2z" /><path d="M3 3h7v7H3zM14 3h7v7h-7zM3 14h7v7H3z"/></svg>
          </button>
        </div>
      </div>`;
    }).join('');

    // ç¶å®šäº‹ä»¶
    bindEvents();
  }

  function bindEvents(){
    // æ”¶è—
    $$('[data-pin]').forEach(btn => btn.onclick = (e) => {
      e.stopPropagation();
      const u = btn.dataset.pin;
      const i = state.pinned.indexOf(u);
      if(i > -1) state.pinned.splice(i, 1); else state.pinned.push(u);
      localStorage.setItem('toolhub_pins', JSON.stringify(state.pinned));
      renderList();
    });

    // QR
    $$('[data-qr]').forEach(btn => btn.onclick = (e) => {
      e.stopPropagation();
      showQR(btn.dataset.qr);
    });

    // è¤‡è£½
    $$('[data-copy]').forEach(btn => btn.onclick = (e) => {
      e.stopPropagation();
      copyToClipboard(btn.dataset.copy);
    });
  }

  // --- åŠŸèƒ½å‡½å¼ ---
  function render() {
    renderCats();
    renderList();
  }

  function resetSearch() {
    state.q = '';
    state.cat = 'å…¨éƒ¨';
    $('#q').value = '';
    render();
  }

  // è¤‡è£½åˆ°å‰ªè²¼ç°¿ + Toast
  function copyToClipboard(text) {
    // åœ¨ iframe æˆ–éå®‰å…¨ç’°å¢ƒä¸‹ï¼Œnavigator.clipboard å¯èƒ½è¢«å°é–
    // æ”¹ç”¨å‚³çµ±çš„ execCommand('copy') ä»¥ç¢ºä¿ç›¸å®¹æ€§
    const textArea = document.createElement("textarea");
    textArea.value = text;
    
    // é¿å…è¦–çª—æ²å‹•
    textArea.style.position = "fixed";
    textArea.style.left = "-9999px";
    textArea.style.top = "0";
    
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    
    try {
      const successful = document.execCommand('copy');
      if (successful) {
        showToast();
      } else {
        console.error('Copy command failed.');
      }
    } catch (err) {
      console.error('Copy error', err);
    }
    
    document.body.removeChild(textArea);
  }

  function showToast() {
    const t = $('#toast');
    t.classList.remove('opacity-0', 'translate-y-4');
    t.classList.add('opacity-100', 'translate-y-0');
    setTimeout(() => {
      t.classList.remove('opacity-100', 'translate-y-0');
      t.classList.add('opacity-0', 'translate-y-4');
    }, 2000);
  }

  // QR Code é‚è¼¯ (ä½¿ç”¨ API ç°¡åŒ–ä¾è³´)
  function showQR(url) {
    const dialog = $('#qrDialog');
    const box = $('#qrBox');
    const urlText = $('#qrUrl');
    
    // ä½¿ç”¨ Google Chart API ç”Ÿæˆ QR Codeï¼Œé€Ÿåº¦å¿«ä¸”ç©©å®š
    box.innerHTML = `<img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(url)}" class="w-full h-auto rounded-lg" alt="QR Code" loading="lazy">`;
    urlText.textContent = url;
    dialog.showModal();
    
    // é»æ“ŠèƒŒæ™¯é—œé–‰
    dialog.addEventListener('click', (e) => {
      const rect = dialog.getBoundingClientRect();
      if (e.clientX < rect.left || e.clientX > rect.right || e.clientY < rect.top || e.clientY > rect.bottom) {
        dialog.close();
      }
    });
  }

  // æ·±è‰²æ¨¡å¼åˆ‡æ›é‚è¼¯
  const themeToggle = $('#themeToggle');
  themeToggle.addEventListener('click', () => {
    const isDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });

  // æœå°‹äº‹ä»¶
  $('#q').addEventListener('input', (e) => {
    state.q = e.target.value;
    renderList();
  });

  // åˆå§‹åŸ·è¡Œ
  render();

  </script>
</body>
</html>
