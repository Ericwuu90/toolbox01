<!doctype html>
<html lang="zh-Hant" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Eric çš„AIå·¥å…·ç®±</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{color-scheme:light dark}

    /* â€”â€” å¡ç‰‡ â€”â€” */
    .card{
      border:1px solid rgb(226 232 240 / 1);
      border-radius:1rem;
      background:rgba(255,255,255,.85);
      transition: box-shadow .25s ease, transform .25s ease, border-color .25s ease;
      backdrop-filter: blur(6px);
    }
    .card:hover{
      transform: translateY(-1px);
      border-color: rgb(94 234 212 / .35);
      box-shadow: 0 10px 28px -12px rgb(14 165 233 / .35);
    }
    @media (prefers-color-scheme: dark){
      .card{border-color:rgb(30 41 59 / 1);background:rgba(2,6,23,.75)}
      .card:hover{box-shadow: 0 10px 28px -12px rgb(56 189 248 / .35)}
    }
    @supports (background: color-mix(in oklab, white 80%, transparent)){
      .card{background:color-mix(in oklab, white 82%, transparent)}
      @media (prefers-color-scheme: dark){
        .card{background:color-mix(in oklab, rgb(2 6 23) 78%, transparent)}
      }
    }

    /* â€”â€” ç§‘æŠ€è—èƒŒæ™¯ï¼ˆå›ºå®šåœ¨å…¨é ï¼Œç´”è£é£¾ï¼‰ â€”â€” */
    .site-bg{
      position: fixed; inset: 0; z-index: -1; pointer-events: none;
      background:
        radial-gradient(1200px 800px at 85% -10%, rgba(59,130,246,.18) 0%, rgba(59,130,246,0) 60%),
        radial-gradient(900px 700px at -10% 110%, rgba(56,189,248,.18) 0%, rgba(56,189,248,0) 60%),
        linear-gradient(180deg, rgba(241,245,249,.65) 0%, rgba(255,255,255,.85) 30%, rgba(255,255,255,1) 100%);
    }
    .site-grid{
      position: fixed; inset: 0; z-index: -1; pointer-events: none; opacity:.9;
      background:
        radial-gradient(circle at center, rgba(14,165,233,.10) 1px, transparent 1.4px) 0 0/24px 24px,
        radial-gradient(circle at center, rgba(14,165,233,.05) 1px, transparent 1.4px) 12px 12px/24px 24px;
      -webkit-mask: radial-gradient(1200px 600px at 50% 30%, #000 60%, transparent 100%);
              mask: radial-gradient(1200px 600px at 50% 30%, #000 60%, transparent 100%);
    }
    .header-glow{
      box-shadow: inset 0 -1px 0 0 rgb(203 213 225 / .55), 0 8px 24px -16px rgb(14 165 233 / .35);
    }
  </style>
</head>
<body class="min-h-full text-slate-900 dark:text-slate-100">
  <!-- ç§‘æŠ€è—èƒŒæ™¯å±¤ -->
  <div class="site-bg" aria-hidden="true"></div>
  <div class="site-grid" aria-hidden="true"></div>

  <header class="sticky top-0 z-30 backdrop-blur bg-white/70 dark:bg-slate-900/60 border-b border-slate-200/60 dark:border-slate-800/60 header-glow">
    <div class="mx-auto max-w-6xl px-4 py-3 flex items-center gap-3">
      <span class="w-6 h-6 text-cyan-600">â–¦</span>
      <h1 class="text-xl font-semibold">Eric çš„AIå·¥å…·ç®±</h1>
      <a href="#about" class="ml-auto text-sm text-slate-500 hover:text-slate-700 dark:hover:text-slate-200">é—œæ–¼æœ¬ç«™</a>
    </div>
  </header>

  <main class="mx-auto max-w-6xl px-4 pb-24">
    <!-- æœå°‹ -->
    <section class="py-6">
      <div class="relative">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400">ğŸ”</span>
        <input id="q" placeholder="æœå°‹å·¥å…·åç¨±ã€åŠŸèƒ½æˆ–æ¨™ç±¤â€¦" class="pl-9 h-11 w-full rounded-xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 outline-none focus:ring-2 focus:ring-cyan-400" />
      </div>
      <div id="cats" class="flex flex-wrap gap-2 mt-3"></div>
    </section>

    <!-- æ¸…å–® -->
    <section id="list" class="grid gap-5 sm:grid-cols-2 lg:grid-cols-3 auto-rows-fr"></section>

    <!-- ç©ºç‹€æ…‹ -->
    <section id="empty" class="hidden text-center text-slate-500 py-16">
      <div class="text-2xl mb-2">âš™ï¸</div>
      æ²’æ‰¾åˆ°ç¬¦åˆæ¢ä»¶çš„å·¥å…·ï¼Œæ›å€‹é—œéµå­—è©¦è©¦ï½
    </section>

    <!-- é—œæ–¼ -->
    <section id="about" class="mt-16">
      <div class="card p-6">
        <h2 class="text-lg font-semibold mb-2">é—œæ–¼æœ¬ç«™</h2>
        <p class="text-slate-600 dark:text-slate-300">
          é€™æ˜¯ä¸€å€‹å°‡å¤šå€‹ ChatGPT å·¥ä½œæµç¨‹èˆ‡å°å·¥å…·é›†ä¸­ç®¡ç†çš„ã€Œå·¥å…·é›†æˆç«™ã€ã€‚ä½ å¯ä»¥ä¾åˆ†é¡ç¯©é¸ã€æœå°‹é—œéµå­—ã€æ”¶è—å¸¸ç”¨å·¥å…·ï¼Œä¸¦ä»¥ QR Code åˆ†äº«çµ¦åŒäº‹æˆ–è·¨è£ç½®é–‹å•Ÿã€‚
        </p>
        <p class="text-slate-600 dark:text-slate-300">ä½¿ç”¨ä¸Šæœ‰ä»»ä½•æƒ³æ³•ï¼Œçš†å¯èˆ‡æˆ‘åˆ†äº«~</p>
        <!-- å·²ç§»é™¤åŸæœ¬ä¸‰æ¢æ¸…å–® -->
      </div>
    </section>
  </main>

  <!-- QR å½ˆçª— -->
  <dialog id="qrDialog" class="backdrop:bg-black/40 rounded-2xl p-0">
    <form method="dialog" class="p-5 min-w-[280px]">
      <div class="font-semibold mb-2">æƒç¢¼å¿«é€Ÿé–‹å•Ÿ</div>
      <div id="qrBox" class="bg-white p-2 rounded-xl inline-block border border-slate-200"></div>
      <div id="qrUrl" class="text-xs text-slate-500 break-all mt-2 max-w-[320px]"></div>
      <div class="text-right mt-4">
        <button type="submit" class="px-3 py-1.5 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800">é—œé–‰</button>
      </div>
    </form>
  </dialog>

  <script>
  // ====== å·¥å…·æ¸…å–®ï¼ˆä¿ç•™è³‡æ–™ï¼Œä½†ç•«é¢ä¸é¡¯ç¤º Hot/New/Proï¼‰ ======
  const TOOLS = [
    { title: "ç§‘æŠ€é€Ÿæ‡‚å°åŠ©æ‰‹", desc: "æŠŠè‰±æ·±çš„ç§‘æŠ€çŸ¥è­˜ï¼Œè½‰è­¯æˆäººäººéƒ½èƒ½æ‡‚çš„ç”Ÿæ´»ç™½è©±ã€‚", url: "https://chatgpt.com/g/g-6853cd7fa5c881919ce3c08769d8cfee-ke-ji-su-dong-jie-ma-shi", category: "æ–‡å­—/ç¿»è­¯", tags: ["ç§‘æ™®","ç™½è©±è§£é‡‹","æŠ€è¡“è½‰è­¯"], badge: "New" },
    { title: "ç¸®å¯«è§£ç¢¼å®˜", desc: "å¿«é€Ÿè§£ç¢¼ç§‘æŠ€ç¸®å¯«èˆ‡å°ˆæœ‰åè©ï¼Œè®“ä½ åœ¨é–±è®€ä»»ä½•æŠ€è¡“è³‡æ–™æ™‚ä¸å†å¡é—œ", url: "https://chatgpt.com/g/g-68a093bd515881918341ad357509cbb5-suo-xie-jie-ma-guan", category: "æ–‡å­—/ç¿»è­¯", tags: ["ç¸®å¯«","åè©è§£é‡‹","å­—å…¸"] },
    { title: "åœ–åƒè§£èªªå“¡", desc: "è‡ªå‹•åˆ†æä¸¦è§£é‡‹åœ–ç‰‡å…§å®¹ï¼Œé©åˆéœ€è¦å¿«é€Ÿç†è§£åœ–ç‰‡è³‡è¨Šçš„ä½¿ç”¨æƒ…å¢ƒ", url: "https://chatgpt.com/g/g-6742a54e580c8191b28585cee72733b8-tu-xiang-jie-shuo-yuan", category: "åœ–åƒ/è¨­è¨ˆ", tags: ["åœ–ç‰‡è§£æ","èªªæ˜","è¦–è¦º"] },
    { title: "ç¶²é æ‘˜è¦å°ˆå®¶", desc: "å¿«é€Ÿæå–ç¶²ç«™é‡é»ï¼Œä¸¦ä»¥ç°¡æ˜æ¢åˆ—æ–¹å¼æ•´ç†ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…å¿«é€Ÿç†è§£", url: "https://chatgpt.com/g/g-6736b5201d4c819098978acf0266158f-wang-ye-zhai-yao-zhuan-jia", category: "è³‡æ–™/ç ”ç©¶", tags: ["æ‘˜è¦","ç¶²ç«™","é‡é»æ•´ç†"], badge: "Hot" },
    { title: "åœ–ç‰‡è½‰æ–‡å­—åŠ©æ‰‹(OCR)", desc: "åœ–ç‰‡ã€æˆªåœ–å¿«é€Ÿè½‰æ–‡å­—ï¼Œæ–¹ä¾¿ç·¨è¼¯èˆ‡å†åˆ©ç”¨", url: "https://chatgpt.com/g/g-6736b67e408881909585defc9da44666-tu-pian-zhuan-wen-zi-zhu-shou-ocr", category: "ç”Ÿç”¢åŠ›", tags: ["OCR","è½‰æ–‡å­—","æˆªåœ–"] },
    { title: "ç›¸ä¼¼åœ–å¤§å¸«", desc: "è¼¸å…¥æ–‡å­—æˆ–ä¸Šå‚³åœ–ç‰‡ï¼Œå³å¯å¿«é€Ÿç”Ÿæˆé«˜ç›¸ä¼¼åº¦çš„ç…§ç‰‡æˆ–æ’åœ–", url: "https://chatgpt.com/g/g-67e7ff682fec8191b352f7e86bafc48d-xiang-si-tu-da-shi", category: "åœ–åƒ/è¨­è¨ˆ", tags: ["ç”Ÿæˆ","ç›¸ä¼¼","åœ–ç‰‡/æ’åœ–"] },
    { title: "é€å­—ç¨¿éŒ¯å­—æ ¡æ­£åŠ©æ‰‹", desc: "å”åŠ©æª¢æŸ¥é€å­—ç¨¿ä¸­çš„éŒ¯å­—æˆ–æ˜é¡¯èªç—…ï¼Œä¸æ”¹è®ŠåŸæ–‡èªæ°£èˆ‡å¥å‹ï¼Œåƒ…å°ˆæ³¨æ–¼éŒ¯èª¤æ¨™ç¤ºèˆ‡ä¿®æ­£å»ºè­°", url: "https://chatgpt.com/g/g-6741e9f4c8688191a57da183196219c3-zhu-zi-gao-cuo-zi-xiao-zheng-zhu-shou", category: "æ–‡å­—/ç¿»è­¯", tags: ["æ ¡å°","é€å­—ç¨¿","éŒ¯å­—"] },
    { title: "å…¬å¸ç ”ç©¶åŠ©æ‰‹", desc: "è‡ªå‹•åˆ†æä¼æ¥­ï¼Œä¸¦ä¾éœ€æ±‚å•Ÿç”¨ã€ä¸€èˆ¬ä»‹ç´¹ã€ã€å¸‚å ´è§’åº¦ã€ã€æŠ€è¡“è§’åº¦ã€ä¸‰ç¨®æ¨¡å¼ï¼Œè¼¸å‡ºçµæ§‹åŒ–è³‡è¨Šèˆ‡å°ˆæ¥­è§€å¯Ÿï¼Œå¿«é€ŸæŒæ¡å…¬å¸å…¨è²Œã€‚", url: "https://chatgpt.com/g/g-68a09dd4b9a08191a5b6f02c085f87ba-gong-si-yan-jiu-zhu-shou", category: "è³‡æ–™/ç ”ç©¶", tags: ["å…¬å¸ç ”ç©¶","å¸‚å ´","æŠ€è¡“"], badge: "Pro" },
  ];

  const $ = s => document.querySelector(s);
  const $$ = s => Array.from(document.querySelectorAll(s));

  // ---------- å‹•æ…‹è¼‰å…¥ QR å‡½å¼åº«ï¼ˆå¤š CDN å¾Œæ´ï¼‰ ----------
  const QR_LIBS = [
    'https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js',
    'https://cdn.jsdelivr.net/gh/davidshimjs/qrcodejs/qrcode.min.js'
  ];
  function loadScript(src){
    return new Promise((resolve, reject)=>{
      const s = document.createElement('script');
      s.src = src; s.async = true; s.onload = ()=>resolve(src); s.onerror = ()=>reject(new Error('Load failed: '+src));
      document.head.appendChild(s);
    });
  }
  async function ensureQRLib(){
    if (window.QRCode) return true;
    for (const src of QR_LIBS){
      try{ await loadScript(src); if (window.QRCode) return true; } catch(e){ console.warn(e); }
    }
    return !!window.QRCode;
  }

  function safeGetPins(){
    try { return JSON.parse(localStorage.getItem('toolhub_pins')||'[]'); }
    catch { return []; }
  }
  const state = { q: '', cat: 'å…¨éƒ¨', pinned: safeGetPins() };

  const cats = ['å…¨éƒ¨', ...Array.from(new Set(TOOLS.map(t=>t.category)))]

  function renderCats(){
    const el = $('#cats');
    el.innerHTML = cats.map(c => `
      <button type="button" data-cat="${c}" class="px-3 py-1.5 rounded-full text-sm border ${state.cat===c?"bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700 shadow":"bg-slate-100/70 dark:bg-slate-800/50 border-slate-200 dark:border-slate-800 hover:bg-slate-200/70 dark:hover:bg-slate-800"}">${c}</button>
    `).join('');
    $$('#cats button').forEach(b=>b.addEventListener('click',()=>{state.cat=b.dataset.cat;render();}));
  }

  function normalize(s){return (s||'').toLowerCase();}

  // ä¸»é¡Œåœ–æ¨™ï¼šä¾å·¥å…·æ¨™é¡Œå›å‚³å°æ‡‰ SVG
  function iconFor(t){
    const size = 'w-4 h-4';
    const icons = {
      'ç¶²é æ‘˜è¦å°ˆå®¶': `<svg xmlns="http://www.w3.org/2000/svg" class="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19V5a2 2 0 0 1 2-2h8l6 6v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2Z"/><path d="M14 3v6h6"/><path d="M8 13h8"/><path d="M8 17h5"/></svg>`,
      'ç§‘æŠ€é€Ÿæ‡‚å°åŠ©æ‰‹': `<svg xmlns="http://www.w3.org/2000/svg" class="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18h6"/><path d="M10 22h4"/><path d="M12 2a7 7 0 0 0-7 7c0 2.1.9 3.9 2.3 5.2A6.9 6.9 0 0 0 9 18h6a6.9 6.9 0 0 0 1.7-3.8A7 7 0 0 0 12 2Z"/></svg>`,
      'å…¬å¸ç ”ç©¶åŠ©æ‰‹': `<svg xmlns="http://www.w3.org/2000/svg" class="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="M7 13v5"/><path d="M11 9v9"/><path d="M15 5v13"/></svg>`,
      'ç›¸ä¼¼åœ–å¤§å¸«': `<svg xmlns="http://www.w3.org/2000/svg" class="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/><path d="M14 7l7-4-4 7"/></svg>`,
      'é€å­—ç¨¿éŒ¯å­—æ ¡æ­£åŠ©æ‰‹': `<svg xmlns="http://www.w3.org/2000/svg" class="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M16.5 3.5a2.1 2.1 0 0 1 3 3L8 18l-4 1 1-4 11.5-11.5Z"/></svg>`,
      'åœ–ç‰‡è½‰æ–‡å­—åŠ©æ‰‹(OCR)': `<svg xmlns="http://www.w3.org/2000/svg" class="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7" rx="1"/><path d="M14 7h7"/><path d="M14 11h5"/><path d="M3 14h7v7H3z"/></svg>`,
      'åœ–åƒè§£èªªå“¡': `<svg xmlns="http://www.w3.org/2000/svg" class="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="7"/><path d="M21 21l-4.3-4.3"/></svg>`,
      'ç¸®å¯«è§£ç¢¼å®˜': `<svg xmlns="http://www.w3.org/2000/svg" class="${size}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 4l6 6-6 6"/><path d="M4 4l6 6-6 6"/></svg>`
    };
    return icons[t.title] || `<svg xmlns='http://www.w3.org/2000/svg' class='${size}' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><path d='M10 13a5 5 0 0 1 7 7l-3 3'/><path d='M14 11a5 5 0 0 0-7-7L4 7'/><path d='M8 16l-4 4'/></svg>`;
  }

  function renderList(){
    const list = $('#list');
    const nq = normalize(state.q);
    let filtered = [];
    try{
      filtered = TOOLS.filter(t => (state.cat==='å…¨éƒ¨' || t.category===state.cat) && (!nq || normalize([t.title,t.desc,(t.tags||[]).join(' ')].join(' ')).includes(nq)) )
        .sort((a,b)=>{
          const ap = state.pinned.includes(a.url)?1:0; const bp = state.pinned.includes(b.url)?1:0; if(ap!==bp) return bp-ap;
          const order = {Hot:4, New:3, Pro:2, Beta:1}; const aa = order[a.badge]||0; const bb = order[b.badge]||0; if(aa!==bb) return bb-aa;
          return a.title.localeCompare(b.title,'zh-Hant');
        });
    }catch(err){
      console.error('Filter/sort error', err);
      filtered = TOOLS.slice();
    }

    $('#empty').classList.toggle('hidden', filtered.length!==0);

    try{
      list.innerHTML = filtered.map(t => {
        const pinned = state.pinned.includes(t.url);
        const tagHtml = [`<span class="inline-flex items-center gap-1 text-xs px-2 py-1 rounded-full border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300">ğŸ· ${t.category}</span>`, ...(t.tags||[]).map(x=>`<span class="text-xs px-2 py-1 rounded-full border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300">${x}</span>`)].join('\n');
        return `
        <div class="card group p-5 h-full flex flex-col">
          <div class="flex items-start gap-3">
            <div class="rounded-2xl bg-cyan-50 dark:bg-cyan-950 p-2 text-cyan-600">${iconFor(t)}</div>
            <div class="flex-1 min-w-0">
              <div class="flex items-center gap-2 flex-wrap">
                <h3 class="text-base sm:text-lg font-semibold">${t.title}</h3>
              </div>
              <p class="text-sm text-slate-500 dark:text-slate-400 mt-1">${t.desc}</p>
            </div>
            <button type="button" class="p-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800" data-pin="${t.url}" aria-label="${pinned?'å–æ¶ˆæ”¶è—':'æ”¶è—'}">${pinned?'â­':'â˜†'}</button>
          </div>
          <div class="flex flex-wrap gap-2 mt-3">${tagHtml}</div>
          <div class="mt-auto flex items-center gap-2 pt-4">
            <a href="${t.url}" target="_blank" rel="noopener" class="shrink-0 whitespace-nowrap flex-1 inline-flex items-center justify-center gap-2 h-9 rounded-xl bg-cyan-600 hover:bg-cyan-700 text-white px-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 1 7 7l-3 3"/><path d="M14 11a5 5 0 0 0-7-7L4 7"/><path d="M8 16l-4 4"/></svg>
              å‰å¾€å·¥å…·
            </a>
            <button type="button" class="shrink-0 whitespace-nowrap h-9 px-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 inline-flex items-center gap-2" data-qr='${t.url}'>
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3h7v7H3zM14 3h7v7h-7zM3 14h7v7H3z"/><path d="M14 14h3v3h-3z"/><path d="M18 18h3v3h-3z"/></svg>
              ç”¢ç”Ÿ QR Code
            </button>
          </div>
        </div>`;
      }).join('\n');
    }catch(err){
      console.error('Render error', err);
      list.innerHTML = '<div class="text-slate-500">æ¸²æŸ“æ¸…å–®æ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹é‡æ–°æ•´ç†ã€‚</div>';
    }

    // æ”¶è— pin
    try{
      $$('[data-pin]').forEach(btn=>btn.addEventListener('click',()=>{
        const u=btn.getAttribute('data-pin');
        const i=state.pinned.indexOf(u);
        if(i>-1) state.pinned.splice(i,1); else state.pinned.push(u);
        try{ localStorage.setItem('toolhub_pins', JSON.stringify(state.pinned)); }catch{}
        renderList();
      }));

      // ç”¢ç”Ÿ QR
      $$('[data-qr]').forEach(btn=>btn.addEventListener('click',()=>{
        const u=btn.getAttribute('data-qr');
        showQR(u);
      }));
    }catch(err){ console.error('Bind error', err); }
  }

  async function showQR(url){
    const d = document.getElementById('qrDialog');
    const box = document.getElementById('qrBox');
    const urlEl = document.getElementById('qrUrl');
    box.innerHTML = '';

    let usedLib = false;
    try{
      const ok = await ensureQRLib();
      if(ok && window.QRCode){
        new QRCode(box, { text: url, width: 240, height: 240, colorDark:'#000', colorLight:'#fff', correctLevel: QRCode.CorrectLevel.M });
        usedLib = true;
      }
    }catch(e){ console.warn('ensureQRLib error:', e); }

    if(!usedLib){
      const img = new Image();
      img.width = 240; img.height = 240; img.alt = 'QR Code';
      img.src = `https://api.qrserver.com/v1/create-qr-code/?size=240x240&data=${encodeURIComponent(url)}`;
      box.appendChild(img);
    }

    urlEl.textContent = url;
    d.showModal();
  }

  function render(){ renderCats(); renderList(); }

  // äº‹ä»¶ï¼šæœå°‹
  document.getElementById('q').addEventListener('input', e=>{state.q = e.target.value; renderList();});

  // åˆå§‹æ¸²æŸ“
  render();

  // --- ç°¡æ˜“æ¸¬è©¦ï¼ˆconsoleï¼‰ ---
  async function __runTests(){
    const results = [];
    results.push({name:'å·¥å…·æ•¸', pass: document.querySelectorAll('#list .card').length === TOOLS.length});
    results.push({name:'ç„¡è¤‡è£½æŒ‰éˆ•', pass: !document.querySelector('[data-copy]')});
    try{ const ok = await ensureQRLib(); results.push({name:'QR å‡½å¼åº«æˆ–å¾Œæ´å¯ç”¨', pass: !!ok}); }catch(e){ results.push({name:'QR å‡½å¼åº«æˆ–å¾Œæ´å¯ç”¨', pass:false, error:String(e)}); }
    console.table(results); return results;
  }
  window.__runTests = __runTests; __runTests();
  </script>
</body>
</html>
